<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DevDist</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="PageCombine_files/libs/clipboard/clipboard.min.js"></script>
<script src="PageCombine_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="PageCombine_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="PageCombine_files/libs/quarto-html/popper.min.js"></script>
<script src="PageCombine_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="PageCombine_files/libs/quarto-html/anchor.min.js"></script>
<link href="PageCombine_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="PageCombine_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="PageCombine_files/libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="PageCombine_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="PageCombine_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="PageCombine_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="PageCombine_files/libs/bootstrap/bootstrap-0f188752f8a538636bb1308b0ca4bb79.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="PageCombine_files/libs/bootstrap/bootstrap-dark-0f188752f8a538636bb1308b0ca4bb79.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<link href="PageCombine_files/libs/bootstrap/bootstrap-0f188752f8a538636bb1308b0ca4bb79.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script src="PageCombine_files/libs/quarto-dashboard/quarto-dashboard.js"></script>
<script src="PageCombine_files/libs/quarto-dashboard/stickythead.js"></script>



<script src="PageCombine_files/libs/quarto-dashboard/web-components.js" type="module"></script>
<script src="PageCombine_files/libs/quarto-dashboard/components.js"></script>



</head>

<body class="quarto-dashboard dashboard-fill fullcontent quarto-light">

<header id="quarto-dashboard-header">
<nav class="navbar navbar-expand-md slim" data-bs-theme="dark">
  <div class="navbar-container container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#dashboard-collapse" aria-controls="dashboard-collapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>    


    <div class="navbar-brand-container">       

      <div class="navbar-title">
        <div class="navbar-title-text"><a href="#">DevDist</a></div>
        
        
      </div>
    </div>
<div id="dashboard-collapse" class="navbar-collapse collapse"><ul class="navbar-nav navbar-nav-scroll me-auto" role="tablist"><li class="nav-item" role="presentation"><a id="tab-welcome" class="nav-link active" data-bs-toggle="tab" role="tab" data-bs-target="#welcome" data-scrolling="false" href="#welcome" aria-controls="welcome" aria-selected="true"><span class="nav-link-text">Welcome</span></a></li><li class="nav-item" role="presentation"><a id="tab-distributions" class="nav-link" data-bs-toggle="tab" role="tab" data-bs-target="#distributions" data-scrolling="false" href="#distributions" aria-controls="distributions" aria-selected="false"><span class="nav-link-text">Distributions</span></a></li></ul></div></div>
</nav>
</header>
<div class="page-layout-custom quarto-dashboard-content bslib-gap-spacing html-fill-container bslib-page-fill quarto-dashboard-pages">  

<!-- Prism.js CSS (Dark theme similar to Zenburn) -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" class="bslib-grid-item html-fill-item">

<!-- Prism.js Core -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>

<!-- R Language Support -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>

<!-- Auto-highlight new content -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Re-highlight when Shiny updates content
  if (window.Shiny) {
    $(document).on('shiny:value shiny:outputinvalidated', function() {
      setTimeout(function() {
        Prism.highlightAll();
      }, 50);
    });
  }
  
  // Initial highlight
  Prism.highlightAll();
});
</script>


<script>
$(document).ready(function() {
  // Check URL on page load
  checkURLAndSetDist();
  
  // Check URL when tabs change
  $(document).on('shown.bs.tab', 'a[data-bs-toggle="tab"]', function (e) {
    checkURLAndSetDist();
  });
  
  function checkURLAndSetDist() {
    var hash = window.location.hash;
    if (hash.includes('?')) {
      var params = new URLSearchParams(hash.split('?')[1]);
      var dist = params.get('dist');
      if (dist && $('#dist_selection').length) {
        // For selectizeInput, use the selectize API
        var selectize = $('#dist_selection')[0].selectize;
        if (selectize) {
          selectize.setValue(dist);
        }
      }
    }
  }
});
</script>
<div class="bslib-grid-item html-fill-item tab-content bslib-grid" data-layout="fill" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div id="welcome" class="dashboard-page tab-pane show active html-fill-item html-fill-container" data-orientation="columns" aria-labelledby="tab-welcome">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 70fr) minmax(3em, 30fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<h1 style="color: #007e7e;">
<p>Welcome to DevDist</p>
</h1>
<p>DevDist is an interactive <strong>Distribution Explorer</strong> tool designed to help you explore statistical distributions that may be useful for modeling your cognitive developmental data (and beyond).</p>
<p>This application highlights some of the most useful distributions commonly used in developmental research. Rather than serving as an exhaustive catalog or comprehensive statistical reference, DevDist aims to help you become familiar with key distributions, understand their parameters, and visualize how they behave under different conditions.</p>
<p>Consider this your starting point for exploring distributions and their characteristics. When you’re ready to dive deeper, excellent resources are available online, including: <a href="https://distribution-explorer.github.io/index.html">Distribution explorer</a> and <a href="https://statdist.ksmzn.com">Probability Distributions Viewer</a></p>
<h3 style="color: #007e7e;">
<p>What can you do here?</p>
</h3>
<p>This tool is divided into three main sections:</p>
<ol type="1">
<li><p><strong>Welcome Page</strong> You’re currently on the landing page! While there isn’t much interaction here, we’d like to draw your attention to the signal buttons in the bottom-left panel. These represent common physiological signals you might want to model. Simply click any button to jump directly to the Distribution Explorer with our recommended distribution for that signal type already selected.</p></li>
<li><p><strong>Distribution Explorer</strong> This is the heart of the application, where you can dive deep into statistical distributions:</p>
<ul>
<li><strong>Interactive Parameters</strong>: Select any distribution from the dropdown menu and experiment with its parameters using intuitive sliders. Watch as the visualization updates in real-time to show how parameter changes affect the distribution’s shape.</li>
<li><strong>Educational Content</strong>: Each distribution comes with a clear description explaining its characteristics, common applications, and the types of signals it’s best suited to model.</li>
<li><strong>Implementation Guide</strong>: We provide examples using both <strong>lme4</strong> and <strong>brms</strong> frameworks. <strong>lme4</strong> offers excellent support for common distributions but has limitations - for less standard distributions, you’d typically need to rely on different specialized packages. In contrast, <strong>brms</strong> provides comprehensive support for a wide range of distributions within a single, consistent framework, making it our preferred choice for most distribution modeling tasks.</li>
</ul></li>
<li><p><strong>Check Your Data</strong> Transform your own data into actionable insights by uploading a CSV file. This section helps you:</p>
<ul>
<li><strong>Visualize</strong>: Generate clean, informative plots of your data distribution to understand its shape and characteristics.</li>
<li><strong>Discover</strong>: Use the powerful <code>fitdistrplus</code> package to create Cullen-Frey plots, which provide expert recommendations about which distributions might best approximate your data.</li>
<li><strong>Compare</strong>: Automatically fit multiple distributions to your data and compare their performance through visual diagnostics. The tool identifies the best-fitting distribution using AIC criteria, taking the guesswork out of model selection.</li>
</ul></li>
</ol>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center html-fill-item html-fill-container">
<div class="callout-icon-container html-fill-item html-fill-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill html-fill-item html-fill-container">
Warning
</div>
</div>
<div class="callout-body-container callout-body html-fill-item html-fill-container">
<p>This is just my way to experiment with shiny and share some knowledghe in the process. In case you see something that can be improved or is not exact..just let me know!! <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDZlcnV6ZHA4YXA3Zmo0NnA1MmxlYng4dmU4NzRlazQybXNxZGZsNSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Oe7H865K0YPfY6ILXm/giphy.gif" class="img-fluid" width="55"></p>
</div>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div><div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: minmax(3em, 70fr) minmax(3em, 30fr); grid-auto-columns: minmax(0, 1fr);">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card cell html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="shiny-plot-output html-fill-item html-fill-container" id="welcome_distplot" style="width:100%;height:100%;"></div>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr) minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card cell html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<p>
    <span class="badge bg-primary me-2">IQ Scores</span>
    <span class="badge bg-primary me-2">Memory Span</span>
    <span class="badge bg-primary me-2">Standardized Test Scores</span>
    <span class="badge bg-primary me-2">Cognitive Ability Measures</span>
    <span class="badge bg-primary me-2">Personality Scale Scores</span>
    <span class="badge bg-primary me-2">Attitude Ratings (averaged)</span>
    <span class="badge bg-primary me-2">Measurement Error</span>
  </p>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div><div class="card cell html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<a href="#distributions?dist=Lognormal" style="text-decoration: none;">
  <span class="badge bg-primary me-2">Reaction Times</span>
</a>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
</div>
</div>
</div>
<div id="distributions" class="dashboard-page tab-pane grid-skip html-fill-item html-fill-container" data-orientation="rows" aria-labelledby="tab-distributions">
<div class="html-fill-item html-fill-container bslib-grid dashboard-sidebar-container" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="bslib-sidebar-layout html-fill-item html-fill-container" data-bslib-sidebar-open="desktop" data-bslib-sidebar-init="true" style=" --bslib-sidebar-width: 20%"><div class="main html-fill-container html-fill-item"><div class="sidebar-content html-fill-item html-fill-container">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 60fr) minmax(3em, 20fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="card tabset html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-header dashboard-card-no-title bslib-navs-card-title">

<ul class="nav nav-tabs card-header-tabs" role="tablist" data-tabsetid="card-tabset-5"><li class="nav-item" role="presentation"><a href="#card-tabset-5-1" role="tab" data-toggle="tab" data-bs-toggle="tab" data-value="Plot" aria-selected="true" class="nav-link active">Plot</a></li><li class="nav-item" role="presentation"><a href="#card-tabset-5-2" role="tab" data-toggle="tab" data-bs-toggle="tab" data-value="Distribution Info" aria-selected="false" class="nav-link">Distribution Info</a></li><li class="nav-item" role="presentation"><a href="#card-tabset-5-3" role="tab" data-toggle="tab" data-bs-toggle="tab" data-value="How to model" aria-selected="false" class="nav-link">How to model</a></li></ul></div>



<div class="tab-content html-fill-item html-fill-container" data-tabset-id="card-tabset-5"><div class="tab-pane active show html-fill-item html-fill-container" role="tabpanel" id="card-tabset-5-1"><div class="card-body html-fill-item html-fill-container" data-title="Plot">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card cell html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="shiny-plot-output html-fill-item html-fill-container" id="dist_plot" style="width:100%;height:360px;"></div>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
</div></div><div class="tab-pane html-fill-item html-fill-container" role="tabpanel" id="card-tabset-5-2"><div class="card-body html-fill-item html-fill-container" data-title="Distribution Info">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card cell html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Normal'" data-ns-prefix="">
<h2>Normal (Gaussian) Distribution</h2>
<p>The normal distribution is the classic bell-shaped curve with perfect symmetry around its center. It has a single peak where most values cluster, with frequencies tapering off equally in both directions. The width of the curve reflects variability - wider curves indicate more spread in the data, while narrower curves show values tightly clustered around the mean.</p>
<h3>What can it model?</h3>
<p>This distribution models continuous data that clusters symmetrically around a central value, where extreme deviations in either direction are equally likely but become increasingly rare. It works best for measurements that result from multiple additive factors, aggregated scores, or standardized assessments where the underlying process produces balanced variation around a typical value.</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Lognormal'" data-ns-prefix="">
<h2>Lognormal Distribution</h2>
<p>The lognormal distribution is characterized by its distinctive right skew, creating a sharp rise followed by a long tail extending toward higher values. All values are strictly positive - the distribution never reaches zero. Most observations concentrate at the lower end, while occasional values stretch far into the upper range.</p>
<h3>What can it model?</h3>
<p>This distribution models positive-valued data with a natural lower bound but no upper limit, where fast or efficient responses are common but slower, more variable responses occasionally occur. It captures processes with inherent timing constraints where quick responses cluster together but processing difficulties, attention lapses, or individual differences can produce much longer latencies.</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Student\'s t'" data-ns-prefix="">
<h2>T-distribution</h2>
<p>The t-distribution resembles the normal distribution but with notably heavier tails, making extreme values more probable than in a normal curve. As degrees of freedom increase, it approaches the normal distribution, but with fewer degrees of freedom, it becomes more accommodating of outlying observations.</p>
<h3>What can it model?</h3>
<p>This distribution models data that may contain legitimate extreme values, particularly when sample sizes are small or when individual differences are substantial. It provides robust modeling for situations where occasional extreme observations represent meaningful variation rather than measurement error, offering protection against the influence of valid but unusual data points.</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Beta'" data-ns-prefix="">
<h2>Beta Distribution</h2>
<p>The beta distribution is remarkably flexible in shape while being strictly bounded between 0 and 1. Depending on its parameters, it can appear uniform, U-shaped, bell-shaped, or heavily skewed toward either boundary. This bounded nature prevents impossible values while accommodating diverse patterns within the valid range.</p>
<h3>What can it model?</h3>
<p>This distribution models proportions, rates, and probabilities - any measurement that represents a fraction of a whole or success rate out of total attempts. It naturally handles data bounded between 0 and 1, making it ideal for performance measures, accuracy rates, or any variable expressing "how much out of the total possible."</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Bernoulli'" data-ns-prefix="">
<h2>Bernoulli Distribution</h2>
<p>The Bernoulli distribution is the simplest probability distribution, representing a single trial with exactly two possible outcomes. One outcome is designated as "success" (coded as 1) and the other as "failure" (coded as 0), with a fixed probability determining the likelihood of success.</p>
<h3>What can it model?</h3>
<p>This distribution models binary outcomes where each observation can only take one of two mutually exclusive states. It captures yes/no decisions, correct/incorrect responses, presence/absence judgments, or any situation where each trial results in exactly two possible categorical outcomes with no middle ground or partial responses.</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Categorical'" data-ns-prefix="">
<h2>Categorical Distribution</h2>
<p>The categorical distribution extends binary outcomes to multiple discrete categories. Each possible outcome has its own probability, and all probabilities sum to 1. Categories are mutually exclusive - each observation falls into exactly one category - and collectively exhaustive of all possibilities.</p>
<h3>What can it model?</h3>
<p>This distribution models discrete choice data where observations fall into one of several distinct, non-overlapping categories. It handles multinomial outcomes, classification data, or any measurement where participants or observations are assigned to one category from a finite set of mutually exclusive options.</p>
</div>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
</div></div><div class="tab-pane html-fill-item html-fill-container" role="tabpanel" id="card-tabset-5-3"><div class="card-body html-fill-item html-fill-container" data-title="How to model">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card cell html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Normal'" data-ns-prefix="">
<p>For normal distributions, both frequentist and Bayesian frameworks assume the same underlying model structure. The normal distribution is the default assumption in most linear models, so you typically don't need to specify a family parameter.</p>
<h3>Frequentist (lme4)</h3>
<p>
Use 
<code>lmer()</code>
 for linear mixed-effects models:
</p>
<pre><code class="language-r">model &lt;- lmer(outcome ~ fixed_effect + (1|random_effect), data = your_data)</code>
</pre>
<p>
Formula breakdown: 
<code>outcome</code>
 is your dependent variable, 
<code>fixed_effect</code>
 represents predictors with effects you want to estimate across the population, 
<code>(1|random_effect)</code>
 adds random intercepts allowing baseline differences between groups (e.g., participants, schools).
</p>
<h3>Bayesian (brms)</h3>
<p>
Use 
<code>brm()</code>
 with the same formula syntax:
</p>
<pre><code class="language-r">model &lt;- brm(outcome ~ fixed_effect + (1|random_effect), data = your_data)</code>
</pre>
<p>The formula structure is identical, but brms uses Bayesian estimation with prior distributions rather than maximum likelihood.</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Lognormal'" data-ns-prefix="">
<p>Lognormal distributions are not supported in lme4. For right-skewed positive data, consider using brms for proper lognormal modeling.</p>
<h3>Frequentist (lme4)</h3>
<p>
lme4 does not support lognormal distributions. You could use 
<code>glmer()</code>
 with a Gamma family, though this is usually not ideal for truly lognormal data:
</p>
<pre><code class="language-r">model &lt;- glmer(outcome ~ fixed_effect + (1|random_effect), family = Gamma(link = 'log'), data = your_data)</code>
</pre>
<h3>Bayesian (brms)</h3>
<p>
brms supports lognormal distributions directly with the 
<code>lognormal()</code>
 family:
</p>
<pre><code class="language-r">model &lt;- brm(outcome ~ fixed_effect + (1|random_effect), family = lognormal(), data = your_data)</code>
</pre>
<p>This properly models the lognormal distribution and keeps coefficients interpretable on the original scale.</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Student\'s t'" data-ns-prefix="">
<p>Student's t distributions provide robust modeling for data with heavier tails than normal. Availability differs significantly between frameworks.</p>
<h3>Frequentist (lme4)</h3>
<p>lme4 does not support t-distributed response variables. It uses t-distributions only for inference (confidence intervals, p-values) assuming normally distributed residuals.</p>
<h3>Bayesian (brms)</h3>
<p>
brms supports t-distributions using the 
<code>student()</code>
 family:
</p>
<pre><code class="language-r">model &lt;- brm(outcome ~ fixed_effect + (1|random_effect), family = student(), data = your_data)</code>
</pre>
<p>The model estimates degrees of freedom automatically, providing robust estimates when extreme values are present. Lower degrees of freedom indicate heavier tails.</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Beta'" data-ns-prefix="">
<p>Beta distributions model bounded data between 0 and 1. Support differs between frameworks.</p>
<h3>Frequentist (lme4)</h3>
<p>lme4 does not support beta distributions. Use brms for proper beta modeling.</p>
<h3>Bayesian (brms)</h3>
<p>brms supports beta distributions:</p>
<pre><code class="language-r">model &lt;- brm(proportion ~ fixed_effect + (1|random_effect), family = Beta(), data = your_data)</code>
</pre>
<p>
Your 
<code>proportion</code>
 variable must be between 0 and 1 (exclusive). Convert percentages by dividing by 100.
</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Bernoulli'" data-ns-prefix="">
<p>Bernoulli distributions model binary outcomes. Both frameworks use similar approaches but with different family specifications.</p>
<h3>Frequentist (lme4)</h3>
<p>
Use 
<code>glmer()</code>
 with binomial family for binary data:
</p>
<pre><code class="language-r">model &lt;- glmer(binary_outcome ~ fixed_effect + (1|random_effect), family = binomial(), data = your_data)</code>
</pre>
<p>
The 
<code>binary_outcome</code>
 should be coded as 0/1, TRUE/FALSE, or a factor. The model uses logistic regression with logit link function.
</p>
<h3>Bayesian (brms)</h3>
<p>
Use 
<code>bernoulli()</code>
 family (equivalent to binomial for single trials):
</p>
<pre><code class="language-r">model &lt;- brm(binary_outcome ~ fixed_effect + (1|random_effect), family = bernoulli(), data = your_data)</code>
</pre>
<p>The formula structure and data coding requirements are identical to the frequentist approach.</p>
</div>
<div class="shiny-panel-conditional html-fill-item html-fill-container" data-display-if="input.dist_selection == 'Categorical'" data-ns-prefix="">
<p>Categorical distributions model multinomial outcomes. Support varies dramatically between frameworks.</p>
<h3>Frequentist (lme4)</h3>
<p>
lme4 cannot handle categorical responses with mixed effects. Consider alternative packages like 
<code>MCMCglmm</code>
 or restructure as multiple binary comparisons using 
<code>glmer()</code>
.
</p>
<h3>Bayesian (brms)</h3>
<p>
brms supports categorical responses with the 
<code>categorical()</code>
 family:
</p>
<pre><code class="language-r">model &lt;- brm(category ~ fixed_effect + (1|random_effect), family = categorical(), data = your_data)</code>
</pre>
<p>
The 
<code>category</code>
 variable should be a factor (e.g., 'A', 'B', 'C'). brms estimates separate equations for each category relative to a reference level.
</p>
</div>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
</div></div></div><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div><div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="card cell html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container no-overflow-x">
<div id="vb_moments" class="shiny-html-output html-fill-item html-fill-container"></div>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
<div id="3ade8a4a-fb1d-4a6c-8409-ac45482d5fc9" class="hidden html-fill-item html-fill-container">

</div>
</div>
</div>
</div></div><aside id="bslib-sidebar-1" class="sidebar html-fill-container html-fill-item"><div class="html-fill-item html-fill-container">
<div class="cell-output-display no-overflow-x">
<div class="form-group shiny-input-container">
<label class="control-label" id="dist_selection-label" for="dist_selection">Select Distribution:</label>
<div>
<select class="shiny-input-select form-control" id="dist_selection"><optgroup label="Continuous">
<option value="Normal" selected="">Normal</option>
<option value="Lognormal">Lognormal</option>
<option value="Student's t">Student's t</option>
<option value="Beta">Beta</option>
</optgroup>
<optgroup label="Categorical">
<option value="Bernoulli">Bernoulli</option>
<option value="Categorical">Categorical</option>
</optgroup></select>
<script type="application/json" data-for="dist_selection">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display">
<div class="shiny-panel-conditional" data-display-if="input.dist_selection == 'Normal'" data-ns-prefix="">
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="n_mu-label" for="n_mu">Mean (μ)</label>
<input class="js-range-slider" id="n_mu" data-skin="shiny" data-min="-5" data-max="5" data-from="0" data-step="0.1" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Moves the center left/right.<br></span>
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="n_sigma-label" for="n_sigma">SD (σ)</label>
<input class="js-range-slider" id="n_sigma" data-skin="shiny" data-min="0.1" data-max="3" data-from="1" data-step="0.1" data-grid="true" data-grid-num="9.66666666666667" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Controls width of the distribution.<br></span>
</div>
</div>
<div class="cell-output-display">
<div class="shiny-panel-conditional" data-display-if="input.dist_selection == 'Lognormal'" data-ns-prefix="">
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="ln_meanlog-label" for="ln_meanlog">Log Mean (μ)</label>
<input class="js-range-slider" id="ln_meanlog" data-skin="shiny" data-min="-3" data-max="3" data-from="0" data-step="0.1" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Mean of the underlying normal distribution.<br></span>
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="ln_sdlog-label" for="ln_sdlog">Log SD (σ)</label>
<input class="js-range-slider" id="ln_sdlog" data-skin="shiny" data-min="0.1" data-max="2" data-from="0.6" data-step="0.1" data-grid="true" data-grid-num="9.5" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">SD of the underlying normal distribution.<br></span>
</div>
</div>
<div class="cell-output-display">
<div class="shiny-panel-conditional" data-display-if="input.dist_selection == 'Student\'s t'" data-ns-prefix="">
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="t_df-label" for="t_df">Degrees of Freedom (ν)</label>
<input class="js-range-slider" id="t_df" data-skin="shiny" data-min="1" data-max="20" data-from="4" data-step="1" data-grid="true" data-grid-num="9.5" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Higher values approximate Normal (lighter tails).<br></span>
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="t_mu-label" for="t_mu">Location (μ)</label>
<input class="js-range-slider" id="t_mu" data-skin="shiny" data-min="-5" data-max="5" data-from="0" data-step="0.1" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Shifts the distribution left/right.<br></span>
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="t_sigma-label" for="t_sigma">Scale (σ)</label>
<input class="js-range-slider" id="t_sigma" data-skin="shiny" data-min="0.1" data-max="3" data-from="1" data-step="0.1" data-grid="true" data-grid-num="9.66666666666667" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Controls spread (larger = wider).<br></span>
</div>
</div>
<div class="cell-output-display">
<div class="shiny-panel-conditional" data-display-if="input.dist_selection == 'Beta'" data-ns-prefix="">
<div id="beta_mode" class="form-group shiny-input-radiogroup shiny-input-container shiny-input-container-inline" role="radiogroup" aria-labelledby="beta_mode-label">
<label class="control-label" id="beta_mode-label" for="beta_mode">Parameterization:</label>
<div class="shiny-options-group">
<label class="radio-inline">
<input type="radio" name="beta_mode" value="muphi" checked="checked">
<span>Mean μ &amp; Precision φ</span>
</label>
<label class="radio-inline">
<input type="radio" name="beta_mode" value="ab">
<span>Alpha &amp; Beta</span>
</label>
</div>
</div>
<div class="shiny-panel-conditional" data-display-if="input.beta_mode == 'muphi'" data-ns-prefix="">
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="b_mu-label" for="b_mu">Mean (μ in (0,1))</label>
<input class="js-range-slider" id="b_mu" data-skin="shiny" data-min="0.01" data-max="0.99" data-from="0.3" data-step="0.01" data-grid="true" data-grid-num="9.8" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Shifts the peak between 0 and 1.<br></span>
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="b_phi-label" for="b_phi">Precision (φ &gt; 0)</label>
<input class="js-range-slider" id="b_phi" data-skin="shiny" data-min="1" data-max="100" data-from="20" data-step="1" data-grid="true" data-grid-num="9.9" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Higher φ = more concentrated around μ.<br></span>
</div>
<div class="shiny-panel-conditional" data-display-if="input.beta_mode == 'ab'" data-ns-prefix="">
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="b_alpha-label" for="b_alpha">Alpha (α &gt; 0)</label>
<input class="js-range-slider" id="b_alpha" data-skin="shiny" data-min="0.1" data-max="20" data-from="3" data-step="0.1" data-grid="true" data-grid-num="9.95" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Higher α shifts toward 1.<br></span>
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="b_beta-label" for="b_beta">Beta (β &gt; 0)</label>
<input class="js-range-slider" id="b_beta" data-skin="shiny" data-min="0.1" data-max="20" data-from="7" data-step="0.1" data-grid="true" data-grid-num="9.95" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Higher β shifts toward 0.<br></span>
</div>
</div>
</div>
<div class="cell-output-display">
<div class="shiny-panel-conditional" data-display-if="input.dist_selection == 'Bernoulli'" data-ns-prefix="">
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="bern_p-label" for="bern_p">Probability of Success (p)</label>
<input class="js-range-slider" id="bern_p" data-skin="shiny" data-min="0.01" data-max="0.99" data-from="0.5" data-step="0.01" data-grid="true" data-grid-num="9.8" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Probability of getting 'Success' (or 'True').<br></span>
<div id="bern_labels" class="form-group shiny-input-radiogroup shiny-input-container shiny-input-container-inline" role="radiogroup" aria-labelledby="bern_labels-label">
<label class="control-label" id="bern_labels-label" for="bern_labels">Outcome Labels:</label>
<div class="shiny-options-group">
<label class="radio-inline">
<input type="radio" name="bern_labels" value="success" checked="checked">
<span>Success/Failure</span>
</label>
<label class="radio-inline">
<input type="radio" name="bern_labels" value="logical">
<span>True/False</span>
</label>
<label class="radio-inline">
<input type="radio" name="bern_labels" value="yesno">
<span>Yes/No</span>
</label>
<label class="radio-inline">
<input type="radio" name="bern_labels" value="binary">
<span>1/0</span>
</label>
</div>
</div>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.dist_selection == 'Categorical'" data-ns-prefix="">
<div class="form-group shiny-input-container no-baseline">
<label class="control-label" id="cat_k-label" for="cat_k">Number of categories (k)</label>
<input class="js-range-slider" id="cat_k" data-skin="shiny" data-min="2" data-max="5" data-from="3" data-step="1" data-grid="true" data-grid-num="3" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<span class="help-block" style="font-size: 0.6rem;">Number of possible outcomes.<br></span>
<div id="remaining_prob_display" class="shiny-html-output"></div>
<div class="shiny-panel-conditional" data-display-if="input.cat_k >= 2" data-ns-prefix="">
<div id="cat_p1_slider" class="shiny-html-output"></div>
</div>
<div class="shiny-panel-conditional" data-display-if="input.cat_k >= 3" data-ns-prefix="">
<div id="cat_p2_slider" class="shiny-html-output"></div>
</div>
<div class="shiny-panel-conditional" data-display-if="input.cat_k >= 4" data-ns-prefix="">
<div id="cat_p3_slider" class="shiny-html-output"></div>
</div>
<div class="shiny-panel-conditional" data-display-if="input.cat_k >= 5" data-ns-prefix="">
<div id="cat_p4_slider" class="shiny-html-output"></div>
</div>
<span class="help-block" style="font-size: 0.6rem;">Remaining probability is automatically assigned to the last category.<br></span>
</div>
</div>
</div></aside>
<button class="collapse-toggle" type="button" title="Toggle sidebar" aria-expanded="true" aria-controls="bslib-sidebar-1">
    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-chevron-left collapse-icon" style="fill:currentColor;" aria-hidden="true" role="img">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path>
    </svg>
</button>
<script data-bslib-sidebar-init="">
bslib.Sidebar.initCollapsibleAll()
</script>
</div>
</div>
</div>
</div>
<p>
<script type="application/shiny-prerendered" data-context="server-start">
library(shiny)
library(bslib)
library(tinyplot)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# Custom function to replace brms::rstudent_t
rstudent_t_custom <- function(n, df, mu = 0, sigma = 1) {
  mu + sigma * rt(n, df)
}

############################# PAGE 1 #############################

# ---- Welcome page distributions plot ----
welcome_distributions_data <- reactive({
  set.seed(123)
  n_samples <- 100000  # keep smaller for speed with shiny
  
  df <- data.frame(
    Normal       = rnorm(n_samples, mean = 0, sd = 1),
    NormalLarge  = rnorm(n_samples, mean = 4, sd = 4),
    Binomial     = (rbinom(n_samples, size = 1, prob = .5) * 10) - 5,
    Lognormal    = rlnorm(n_samples, meanlog = 0.3, sdlog = 0.5),
    LognormalInv = rlnorm(n_samples, meanlog = 0.3, sdlog = 0.55) * -1 + -1,
    Student_t    = rstudent_t_custom(n_samples, df = 5, mu = .6, sigma = 1)
  )
  
  # Reshape to long format
  long_df <- stack(df)
  names(long_df) <- c("Value", "Distribution")
  
  long_df
})



output$welcome_distplot <- renderPlot({
  distributions_long <- welcome_distributions_data()
  distributions_long$Distribution <- factor(distributions_long$Distribution)
  
  
  tinytheme('void', mar = c(2, 2, 1, 1), oma = c(0, 0, 0, 0))
  tinyplot(
     ~ Value| Distribution, legend = FALSE,
    data = distributions_long,
    lwd = 4.5,
    type = "density",
    fill = 'by',
    alpha = 0.7,
    xlab = '',
    ylab = ''
  )
  tinytheme('default')

}, height = function() {
  session$clientData$output_welcome_distplot_height
}, width = function() {
  session$clientData$output_welcome_distplot_width
})



############################# PAGE 2 #############################

# Function to generate categorical samples
rcategorical <- function(n, probs) {
  sample(1:length(probs), n, replace = TRUE, prob = probs)
}

# ---- Reactive sampler ----
samples <- reactive({
  n_req <- 3000L
  selected_dist <- input$dist_selection
  continuous_dists <- c("Normal", "Lognormal", "Student's t", "Beta")
  
  if (selected_dist %in% continuous_dists) {
    if (selected_dist == "Normal") {
      rnorm(n_req, mean = input$n_mu, sd = input$n_sigma)
    } else if (selected_dist == "Lognormal") {
      rlnorm(n_req, meanlog = input$ln_meanlog, sdlog = input$ln_sdlog)
    } else if (selected_dist == "Student's t") {
      rstudent_t_custom(n_req, df = input$t_df, mu = input$t_mu, sigma = input$t_sigma)
    } else if (selected_dist == "Beta") {
      if (input$beta_mode == "ab") {
        alpha <- input$b_alpha
        beta  <- input$b_beta
      } else {
        mu  <- input$b_mu
        phi <- input$b_phi
        alpha <- mu * phi
        beta  <- (1 - mu) * phi
      }
      rbeta(n_req, shape1 = alpha, shape2 = beta)
    } else {
      validate(need(FALSE, "Unknown continuous distribution."))
    }
  } else {
    if (selected_dist == "Bernoulli") {
      rbinom(n_req, size = 1, prob = input$bern_p)
    } else if (selected_dist == "Categorical") {
      k <- input$cat_k
      probs <- numeric(k)
      
      probs[1] <- input$cat_p1 %||% 0.25
      if (k >= 3) probs[2] <- input$cat_p2 %||% 0.25
      if (k >= 4) probs[3] <- input$cat_p3 %||% 0.25
      if (k >= 5) probs[4] <- input$cat_p4 %||% 0.25
      
      # Assign remaining probability to last category
      probs[k] <- max(0.01, 1 - sum(probs[1:(k-1)]))
      
      rcategorical(n_req, probs)
    } else {
      validate(need(FALSE, "Unknown categorical distribution."))
    }
  }
})

output$dist_plot <- renderPlot({
  s <- samples()
  selected_dist <- input$dist_selection
  continuous_dists <- c("Normal", "Lognormal", "Student's t", "Beta")
 
  if (selected_dist %in% continuous_dists) {
    tinyplot(s, type = "density", lwd = 3,
            bw='SJ',
            adjust=.5,
            kernel = "gaussian",
            n = 512,
            main = paste("Sampled", selected_dist, "Distribution"),
            xlab = "",
            ylab = "",
            yaxt = "n",          # Remove y-axis ticks and labels
            col = "#007e7e",
            fill= "#007e7e",
            theme= "minimal")
   
    tinyplot_add(
      s,
      type = "hist",
      freq = FALSE,
      col = 'black',
      fill= 'transparent',
      lwd=1
    )
   
    abline(v = 0, col = "black", lty = 1, lwd = 4)
    abline(h = 0, col = "black", lty = 1, lwd = 4)
   
  } else {
    if (selected_dist == "Bernoulli") {
      counts <- table(s)
     
      if (input$bern_labels == "success") {
        labels <- c("Failure", "Success")
      } else if (input$bern_labels == "logical") {
        labels <- c("False", "True")
      } else if (input$bern_labels == "yesno") {
        labels <- c("No", "Yes")
      } else {
        labels <- c("0", "1")
      }
     
      y_vals <- as.numeric(counts) / length(s)
      x_pos <- 1:length(y_vals)
      plot_labels <- labels[as.numeric(names(counts)) + 1]
     
      plot(x_pos, y_vals,
           type = "n",
           main = paste("Bernoulli Distribution (p =", input$bern_p, ")"),
           xlab = "Outcome",
           ylab = "Probability",
           xaxt = "n",
           ylim = c(0, 1),
           xlim = c(0.5, length(y_vals) + 0.5))
     
      segments(x0 = x_pos, y0 = 0, x1 = x_pos, y1 = y_vals,
               col = "#007e7e", lwd = 4)
     
      points(x_pos, y_vals,
             pch = 19, cex = 2.5,
             col = "#007e7e")
      abline(h = 0, col = "black", lty = 1, lwd = 6 )

      axis(1, at = x_pos, labels = plot_labels)
     
      text(x_pos, y_vals + 0.05,
           labels = sprintf("%.3f", y_vals),
           cex = 0.9, pos = 3)
             
    } else if (selected_dist == "Categorical") {
      counts <- table(s)
      x_vals <- paste("Cat", names(counts))
      y_vals <- as.numeric(counts) / length(s)
     
      x_pos <- 1:length(y_vals)
     
      plot(x_pos, y_vals,
           type = "n",
           main = paste("Sampled Categorical Distribution (k=", input$cat_k, ")"),
           xlab = "Category",
           ylab = "Probability",
           xaxt = "n",
           ylim = c(0, max(y_vals) * 1.15),
           xlim = c(0.5, length(y_vals) + 0.5))
     
      segments(x0 = x_pos, y0 = 0, x1 = x_pos, y1 = y_vals,
               col = "#007e7e", lwd = 4)
     
      points(x_pos, y_vals,
             pch = 19, cex = 2.5,
             col = "#007e7e")
      abline(h = 0, col = "black", lty = 1, lwd = 6)

      axis(1, at = x_pos, labels = x_vals)
     
      text(x_pos, y_vals + max(y_vals) * 0.05,
           labels = sprintf("%.3f", y_vals),
           cex = 0.8, pos = 3)
    }
  }
}, height = function() {
  session$clientData$output_dist_plot_height
}, width = function() {
  session$clientData$output_dist_plot_width
}, res = 96)

# ---- Summary stats ----
stats <- reactive({
  s <- samples()
  selected_dist <- input$dist_selection
  n <- length(s)
  continuous_dists <- c("Normal", "Lognormal", "Student's t", "Beta")
  
  if (selected_dist %in% continuous_dists) {
    q <- quantile(s, c(0.25, 0.75), names = FALSE)
    list(
      mean   = mean(s),
      median = median(s),
      sd     = sd(s),
      se     = sd(s) / sqrt(n),
      min    = min(s),
      q1     = q[1],
      q3     = q[2],
      max    = max(s),
      type   = "continuous"
    )
  } else {
    list(
      mean   = mean(s),
      median = median(s),
      mode   = as.numeric(names(sort(table(s), decreasing = TRUE))[1]),
      var    = var(s),
      min    = min(s),
      max    = max(s),
      type   = "categorical"
    )
  }
})

output$vb_moments <- renderUI({
  st <- stats()
  selected_dist <- input$dist_selection
  
  get_distribution_badges <- function(dist_name) {
    switch(dist_name,
      "Normal" = list(
        "Looking time", "IQ Scores", "Memory Span", "Standardized Test Scores"
      ),
      "Lognormal" = list(
        "Reaction Times", "Saccadic Latencies", "Decision Times", "Time-to-Complete Tasks"
      ),
      "Student's t" = list(
        "Small Sample Studies", "Individual Differences", "Clinical Assessments", "Personality Scores"
      ),
      "Beta" = list(
        "Accuracy Rates", "Proportion Correct", "Confidence Ratings (0-1)", "Probability Judgments", "Response Proportions"
      ),
      "Bernoulli" = list(
        "Correct/Incorrect Response", "Detect/Miss (Signal Detection)", "Recall/Forget", "Choose Option A/B", "Attend/Ignore", "Present/Absent Judgment"
      ),
      "Categorical" = list(
        "Likert Scale Responses", "Multiple Choice Answers", "Emotional State Categories", "Diagnostic Categories", "Personality Types"
      ),
      list()
    )
  }
  
  create_badges <- function(badge_list) {
    if (length(badge_list) == 0) return("")
    
    badges_html <- paste(
      sapply(badge_list, function(badge) {
        paste0('<span class="badge bg-primary me-2 mb-1">', badge, '<\u002fspan>')
      }), 
      collapse = '<br>'
    )
    return(badges_html)
  }
  
  badges <- get_distribution_badges(selected_dist)
  badges_html <- create_badges(badges)
 
  if (st$type == "continuous") {
    tagList(
      tags$div(style = "background-color: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 20px;",
        tags$h4("Center & Spread", style = "margin-bottom: 12px; color: #495057; font-weight: 600;"),
        tags$div(style = "font-size: 0.9rem; line-height: 1.4; margin-bottom: 8px; color: #6c757d;",
                 sprintf("Mean: %.3f | Median: %.3f", st$mean, st$median)),
        tags$div(style = "font-size: 0.9rem; line-height: 1.4; color: #6c757d;",
                 sprintf("SD: %.3f | SE: %.3f", st$sd, st$se))
      ),
      tags$div(style = "background-color: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 20px;",
        tags$h4("Range & Quartiles", style = "margin-bottom: 12px; color: #495057; font-weight: 600;"),
        tags$div(style = "font-size: 0.9rem; line-height: 1.4; margin-bottom: 8px; color: #6c757d;",
                 sprintf("Min: %.3f | Max: %.3f", st$min, st$max)),
        tags$div(style = "font-size: 0.9rem; line-height: 1.4; color: #6c757d;",
                 sprintf("Q1: %.3f | Q3: %.3f", st$q1, st$q3))
      ),
      tags$div(style = "background-color: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 20px;",
        tags$h4("Example Data Types", style = "margin-bottom: 12px; color: #495057; font-weight: 600;"),
        HTML(badges_html)
      )
    )
  } else {
    tagList(
      tags$div(style = "background-color: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 20px;",
        tags$h4("Center & Spread", style = "margin-bottom: 12px; color: #495057; font-weight: 600;"),
        tags$div(style = "font-size: 0.9rem; line-height: 1.4; margin-bottom: 8px; color: #6c757d;",
                 sprintf("Mean: %.3f | Mode: %.0f", st$mean, st$mode)),
        tags$div(style = "font-size: 0.9rem; line-height: 1.4; color: #6c757d;",
                 sprintf("Variance: %.3f", st$var))
      ),
      tags$div(style = "background-color: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 20px;",
        tags$h4("Range", style = "margin-bottom: 12px; color: #495057; font-weight: 600;"),
        tags$div(style = "font-size: 0.9rem; line-height: 1.4; color: #6c757d;",
                 sprintf("Min: %.0f | Max: %.0f", st$min, st$max))
      ),
      tags$div(style = "background-color: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 20px;",
        tags$h4("Example Data Types", style = "margin-bottom: 12px; color: #495057; font-weight: 600;"),
        HTML(badges_html)
      )
    )
  }
})

# Simplified remaining probability calculation
remaining_prob <- reactive({
  k <- input$cat_k
  if (is.null(k) || k < 2) return(1)
  
  used_prob <- (input$cat_p1 %||% 0) + 
               (if(k >= 3) input$cat_p2 %||% 0 else 0) + 
               (if(k >= 4) input$cat_p3 %||% 0 else 0) + 
               (if(k >= 5) input$cat_p4 %||% 0 else 0)
  
  max(0, 1 - used_prob)
})

output$remaining_prob_display <- renderUI({
  remaining <- remaining_prob()
  color <- if (remaining < 0.01) "red" else "blue"
  tags$div(
    style = paste0("font-weight: bold; color: ", color, "; margin: 10px 0;"),
    sprintf("Remaining probability for last category: %.3f", remaining)
  )
})

output$cat_p1_slider <- renderUI({
  max_val <- min(0.98, remaining_prob() + (input$cat_p1 %||% 0.25))
  sliderInput("cat_p1", "P(Category 1)", 
              value = min(input$cat_p1 %||% 0.25, max_val), 
              min = 0.01, max = max_val, step = 0.01)
})

output$cat_p2_slider <- renderUI({
  if (input$cat_k < 3) return(NULL)
  max_val <- min(0.98, remaining_prob() + (input$cat_p2 %||% 0.25))
  sliderInput("cat_p2", "P(Category 2)", 
              value = min(input$cat_p2 %||% 0.25, max_val), 
              min = 0.01, max = max_val, step = 0.01)
})

output$cat_p3_slider <- renderUI({
  if (input$cat_k < 4) return(NULL)
  max_val <- min(0.98, remaining_prob() + (input$cat_p3 %||% 0.25))
  sliderInput("cat_p3", "P(Category 3)", 
              value = min(input$cat_p3 %||% 0.25, max_val), 
              min = 0.01, max = max_val, step = 0.01)
})

output$cat_p4_slider <- renderUI({
  if (input$cat_k < 5) return(NULL)
  max_val <- min(0.98, remaining_prob() + (input$cat_p4 %||% 0.1))
  sliderInput("cat_p4", "P(Category 4)", 
              value = min(input$cat_p4 %||% 0.1, max_val), 
              min = 0.01, max = max_val, step = 0.01)
})


observeEvent(input$lognormal_badge, {
  # Navigate to distributions tab (if using tabsetPanel)
  # updateTabsetPanel(session, "main_tabs", selected = "Distributions")
  
  # Set the distribution
  updateSelectizeInput(session, "dist_selection", selected = "Lognormal")
})

</script>
 
<script type="application/shiny-prerendered" data-context="server-extras">
ojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {
  quos <- rlang::enquos(...)
  vars <- rlang::list2(...)
  nm <- names(vars)
  if (is.null(nm)) {
    nm <- rep_len("", length(vars))
  }
  mapply(
    function(q, nm, val) {
      # Infer name, if possible
      if (nm == "") {
        tryCatch(
          {
            nm <- rlang::as_name(q)
          },
          error = function(e) {
            code <- paste(collapse = "\n", deparse(rlang::f_rhs(q)))
            stop(
              "ojs_define() could not create a name for the argument: ",
              code
            )
          }
        )
      }
      .session$output[[nm]] <- val
      outputOptions(.session$output, nm, suspendWhenHidden = FALSE)
      .session$sendCustomMessage("ojs-export", list(name = nm))
      NULL
    },
    quos,
    nm,
    vars,
    SIMPLIFY = FALSE,
    USE.NAMES = FALSE
  )
  invisible()
}
</script>
</p>
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.8.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.8.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.11.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.8.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.8.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]}},"value":[{"type":"character","attributes":{},"value":["base","bslib","cachem","cli","compiler","datasets","digest","evaluate","fastmap","graphics","grDevices","htmltools","httpuv","jquerylib","jsonlite","knitr","later","lifecycle","magrittr","memoise","methods","mime","promises","R6","Rcpp","rlang","rmarkdown","sass","shiny","stats","tinyplot","tools","utils","xfun","xtable","yaml"]},{"type":"character","attributes":{},"value":["4.5.0","0.9.0","1.1.0","3.6.5","4.5.0","4.5.0","0.6.37","1.0.5","1.2.0","4.5.0","4.5.0","0.5.8.1","1.6.16","0.1.4","2.0.0","1.50","1.4.4","1.0.4","2.0.4","2.0.1","4.5.0","0.13","1.3.3","2.6.1","1.1.0","1.1.6","2.29","0.4.10","1.11.1","4.5.0","0.4.2","4.5.0","4.5.0","0.53","1.8-4","2.3.10"]}]}]}
</script>
<!--/html_preserve-->


<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /container fluid -->

<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (_event) {
  if (window.bslib.Card) {
    window.bslib.Card.initializeAllCards();
  }
}); 
</script>
  



</body></html>